//!     uuid.js
//!     Copyright (c) 2010-2012 Robert Kieffer
//!     MIT License - http://opensource.org/licenses/mit-license.php
(function(){function e(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[r+i++]=c[e])});i<16;)t[r+i++]=0;return t}function t(e,t){var n=t||0,r=s;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function n(e,n,i){var o=n&&i||0;"string"==typeof e&&(n="binary"==e?new a(16):null,e=null),e=e||{};var s=e.random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n)for(var c=0;c<16;c++)n[o+c]=s[c];return n||t(s)}var r,i=this,o=new Array(16);r=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o};for(var a=Array,s=[],c={},u=0;u<256;u++)s[u]=(u+256).toString(16).substr(1),c[s[u]]=u;var l=n;l.v4=n,l.parse=e,l.unparse=t,l.BufferClass=a;var d=i.uuid;l.noConflict=function(){return i.uuid=d,l},i.uuid=l}).call(this),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(2),o=n(3),a=n(4),s=n(8),c=n(15),u=n(18),l=r(u),d=n(23),p=r(d),f=n(16),h=r(f),g=n(26),y=r(g),x=n(11),m=n(13);window.Kx=window.Kx||{},window.Kx.log=function(){return h.default}(),window.Kx.Request=function(){return y.default}(),window.Kx.Markup=function(){return{getViewPixel:s.getViewPixel,appendUTMParameter:s.appendUTMParameter}}(),window.Kx.PostMessage=function(){return n(27).default}(),window.Kx.Helper=window.Kx.Helper||{},window.Kx.Helper.Util=function(){var e={};return e.mergeObjects=n(24).default,e.isRealObject=n(6).isRealObject,e.compactArray=n(7).default,e.wordCount=n(30).default,e.uniqueID=function(){return uuid.v4()},e.hasOnlyWhitespaces=n(5).default,e.findStringInText=n(21).default,e.domReady=n(31).default,e.replacePlaceholder=n(9).default,e.sortByKeyDESC=n(32).sortByKeyDESC,e.urlParser=n(12).createBrowserUrlParser(document),e.isSameHost=x.isSameHost,e.isSameUrl=x.isSameUrl,e.isSame2ndLevelDomain=x.isSame2ndLevelDomain,e.zip=m.zip,e}(),window.Kx.Helper=window.Kx.Helper||{},window.Kx.Helper.Device=function(){return{isMobileDevice:o.isMobileDevice,isTouchDevice:o.isTouchDevice}}(),window.Kx.Helper.DOM=function(){return{nodesBySelector:i.nodesBySelector,firstChild:i.firstChild,nextSibling:i.nextSibling,nodeType:i.nodeType,isCommentNode:i.isCommentNode,isTextNode:i.isTextNode,nodeName:i.nodeName,textContent:i.textContent,parentNode:i.parentNode,nodeValue:i.nodeValue,setNodeValue:i.setNodeValue,addAttributeToNode:i.addAttributeToNode,hasKxAttribute:i.hasKxAttribute}}(),window.Kx.Helper.NodeFilter=function(){return{containsVisibleChars:a.containsVisibleChars,isMarked:a.isMarked,isContentNode:a.isContentNode,hasEnoughWords:a.hasEnoughWords}}(),window.Kx.Helper.ContentParser=function(){return{findPossibleKeywords:p.default}}(),window.Kx.Helper.Strategy=function(){return{getCampaignById:c.getCampaignById,getLogoSize:c.getLogoSize}}(),window.Kx.Strategy=window.Kx.Strategy||{},window.Kx.Strategy.Xtraffic=window.Kx.Strategy.Xtraffic||{},window.Kx.Strategy.Xtraffic=function(){return l.default}()},function(e,t){"use strict";function n(e){var t=document.querySelectorAll(e);return[].slice.call(t)}function r(e){return e.firstChild}function i(e){return e.nextSibling}function o(e){return e.nodeType}function a(e){return 8===o(e)}function s(e){return 3===o(e)}function c(e){return e.nodeName.toLowerCase()}function u(e){return e.textContent}function l(e){return e.parentNode}function d(e){return e.nodeValue}function p(e,t){e.nodeValue=t}function f(e,t){var n=document.createAttribute(t.name);return n.value=t.value,e.setAttributeNode(n),e}function h(e){return!a(e)&&e.hasAttribute("data-kx")}Object.defineProperty(t,"__esModule",{value:!0}),t.nodesBySelector=n,t.firstChild=r,t.nextSibling=i,t.nodeType=o,t.isCommentNode=a,t.isTextNode=s,t.nodeName=c,t.textContent=u,t.parentNode=l,t.nodeValue=d,t.setNodeValue=p,t.addAttributeToNode=f,t.hasKxAttribute=h},function(e,t){"use strict";function n(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}function r(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileDevice=n,t.isTouchDevice=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,c.nodeValue)(e);return!(null===t||(0,l.default)(t))}function o(e){return(0,c.hasKxAttribute)(e)}function a(e,t){var n=(0,c.nodeName)(e);return t.indexOf(n)>-1}function s(e,t){var n=(0,c.textContent)(e);return(0,p.default)(n.split(/\s/)).length>=t}Object.defineProperty(t,"__esModule",{value:!0}),t.containsVisibleChars=i,t.isMarked=o,t.isContentNode=a,t.hasEnoughWords=s;var c=n(2),u=n(5),l=r(u),d=n(7),p=r(d)},function(e,t,n){"use strict";function r(e){return!(0,i.isString)(e)||0===e.trim().length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(6)},function(e,t){"use strict";function n(e){return void 0===e}function r(e){return null===e}function i(e){return"string"==typeof e}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){return"function"==typeof e}function s(e){return!a(e)&&(n(e)||r(e)||0===e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.isUndefined=n,t.isNull=r,t.isString=i,t.isRealObject=o,t.isFunction=a,t.isEmpty=s},function(e,t){"use strict";function n(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t="x"+window.Kx.Helper.Util.uniqueID(),n=document.createElement("span");n.className="kx-rlink-container "+t;var r=document.createElement("a"),i=void 0;e.campaign.keywords.forEach(function(t){t.name===e.keyword&&(i=t)}),Kx.log("keywordObject: Xtraffic: ",i),r.href=i.targetURL;var a="";i.tags&&i.tags.length>0&&(a=i.tags.join(","));var c=(0,u.default)(i.clickTrackingURL,{pid:e.publisherId,cid:e.campaign.id,format:"rlink",keyword:e.keyword,sessionid:e.sessionId,ref:e.referrer,target:o(i.targetURL,e.campaign.utm,e.keyword),tags:a});if(r.setAttribute("onclick",'this.href="'+c+'"'),i.tooltip&&(r.title=i.tooltip),r.target="_self",r.rel="nofollow",r.className="kx-ad-link",r.appendChild(document.createTextNode(e.keyword)),n.appendChild(r),i.iconURL&&i.iconURL.length>0){var l={cssNamespace:t};i.tooltip&&(l.tooltip=i.tooltip),l.iconHeight=e.kxObject.config.iconSize,l.iconURL=i.iconURL,l.closeIconURL=i.closeIconURL;var d=s(l);r.appendChild(d)}return n}function o(e,t,n){if(t){var r=[];Object.keys(t).forEach(function(e){t.hasOwnProperty(e)&&("term"===e?r.push("utm_"+e+"="+(0,u.default)(t[e],{keyword:n})):r.push("utm_"+e+"="+encodeURIComponent(t[e])))});var i=(0,h.createBrowserUrlParser)(document),o=i(e);return r.unshift(o.search),o.search=r.join("&"),o.href}return e}function a(e){var t=document.createElement("img");return t.src=e.replace(/(\[timestamp\]|\{timestamp\})/,(new Date).getTime()),t.height=1,t.width=1,t.style.opacity=.01,t.style.position="absolute",t.style.left="-10000px",t}function s(e){function t(e){return setTimeout(function(){e.className="kx-ad-logo"},1e3)}var n=!1,r=void 0,i=void 0,o=document.createElement("img");o.className="kx-ad-logo kx-init",o.style.opacity=.01,o.alt=e.tooltip,o.onload=function(a){if(!n){n=!0;var s=a.target;t(s);if(0===s.naturalWidth)var c=s.width/s.height;else var c=s.naturalWidth/s.naturalHeight;var u=e.iconHeight*c,l=u<27?"-2px":"-4px",d=[{selector:"."+e.cssNamespace+".kx-rlink-container .kx-logo-container",declarations:{height:"10px",width:u+2+"px"}},{selector:"."+e.cssNamespace+".kx-rlink-container .kx-ad-logo",declarations:{height:e.iconHeight+"px",bottom:l,left:"2px",width:"auto"}},{selector:"."+e.cssNamespace+".kx-rlink-container .kx-ad-logo.kx-init",declarations:{height:2.35*e.iconHeight+"px"}}];(0,f.isMobileDevice)()&&(0,f.isTouchDevice)()||d.push({selector:"."+e.cssNamespace+".kx-rlink-container .kx-ad-link:hover .kx-ad-logo",declarations:{height:2.35*e.iconHeight+"px",width:2.35*u+"px"}}),Kx._css.addRules(d),r||(i=!0),!r&&i?(i=!1,r=o.complete||4===o.readyState,setTimeout(function(){var e=(0,p.default)("load");n=!1,s.dispatchEvent(e)},500)):s.style.opacity=1}},(0,l.isUrl)(e.iconURL)?o.src=e.iconURL:o.src="//kkastatic.s3.amazonaws.com/"+e.iconURL,r=o.complete||4===o.readyState;var a=document.createElement("span");if(a.className="kx-logo-container",a.appendChild(o),o.complete||4===o.readyState){var s=(0,p.default)("load");o.dispatchEvent(s)}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.getLinkFragment=i,t.appendUTMParameter=o,t.getViewPixel=a,t.getImageElement=s;var c=n(9),u=r(c),l=n(11),d=n(14),p=r(d),f=n(3),h=n(12)},function(e,t,n){"use strict";function r(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=(0,o.default)(n),i=new RegExp("(%"+r+"%|%25"+r+"%25)","g");e=e.replace(i,encodeURIComponent(t[n]))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(10),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t){"use strict";function n(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSameUrl=t.isUrl=t.isSame2ndLevelDomain=t.isSameHost=void 0;var r=n(12),i=n(13),o=(0,r.createBrowserUrlParser)(document),a=function(e){return o(e).host},s=function(e,t){return a(e)===a(t)};t.isSameHost=s;var c=function(e){return e.split(".").reverse()},u=function(e){return e.every(function(t){return t===e[0]})},l=function(e){return!0===e},d=function(e,t){var n=a(e),r=a(t);return(0,i.zip)(c(n),c(r)).slice(0,2).map(u).every(l)};t.isSame2ndLevelDomain=d;var p=function(e){var t=e.toLowerCase();return 0===t.indexOf("http")||0===t.indexOf("//")};t.isUrl=p;var f=function(e,t){var n=o(e),r=o(t);return n.host+n.pathname===r.host+r.pathname};t.isSameUrl=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return function(t){var n=e.createElement("a");return n.href=t,n}};t.createBrowserUrlParser=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){for(var n=e.length<t.length?e.length:t.length,r=[],i=0;i<n;i++)r[i]=[e[i],t[i]];return r};t.zip=n},function(e,t){"use strict";function n(e){var t=void 0;try{t=new Event(e)}catch(n){t=document.createEvent("Event"),t.initEvent(e,!0,!0)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=void 0;return t.campaigns.forEach(function(t){t.id===e&&(n=t)}),n}function o(e,t){return e.logoSize?e.logoSize:t.iconSize}function a(e,t){var n=e.keywordResult[0],r=n.keyword.slice(0,-1),i=n.index,o=(0,p.nodeValue)(e.node),a=(0,l.getLinkFragment)({keyword:r,campaign:e.campaign,publisherId:e.publisherId,sessionId:e.sessionId,referrer:e.referrer,kxObject:t.kxObject}),s=[];if(0===n.index){s.push(a);var c=o.substring(i+r.length,o.length);s.push(document.createTextNode(c))}else{var u=o.substring(0,i);if(s.push(document.createTextNode(u)),s.push(a),o.length!==i+r.length){var f=o.substring(i+r.length,o.length);s.push(document.createTextNode(f))}}e.node.nodeValue="";var h=e.node.nextSibling;h?s.forEach(function(e){h.parentNode.insertBefore(e,h)}):s.forEach(function(t){e.node.parentNode.appendChild(t)}),t.maxKeywordsInspector.addKey("keyword");var g=void 0;e.campaign.keywords.forEach(function(e){e.name===r&&(g=e)});var y={event_type:"placement.rlink",campaign_id:e.campaign.id+"",ad_format:"rlink",keywords:[r]};if(g.tags&&g.tags.length>0&&(y.tags=g.tags),Kx._tracker.track(y),Kx._is_pi_with_placement_tracked||(Kx._tracker.track({event_type:"pi-with-placement"}),Kx._is_pi_with_placement_tracked=!0),(0,d.viewPixelUriIsSet)(e.campaign)){var x=(0,l.getViewPixel)(e.campaign.impressionTrackingURL);document.body.appendChild(x)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCampaignById=i,t.getLogoSize=o,t.setKeywordLink=a;var s=n(7),c=(r(s),n(10)),u=(r(c),n(16)),l=(r(u),n(8)),d=n(17),p=n(2)},function(e,t){"use strict";function n(){var e=document.cookie.split(";"),t=e.indexOf("KX-Debug=Deiyah3b"),n=e.indexOf(" KX-Debug=Deiyah3b");if(t>=0||n>=0){var r;(r=console).log.apply(r,arguments)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e){return void 0!==e.impressionTrackingURL&&null!==e.impressionTrackingURL&&""!==e.impressionTrackingURL}Object.defineProperty(t,"__esModule",{value:!0}),t.viewPixelUriIsSet=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(19),s=r(a),c=n(20),u=r(c),l=n(16),d=r(l),p=n(21),f=r(p),h=n(22),g=n(2),y=n(15),x=(n(8),function(){function e(t,n){i(this,e),(0,s.default)(t),(0,s.default)(n),this.kxObject=t,this.parser=n,this.maxKeywordsInspector=new u.default(3),(0,d.default)("XTRAFFIK"),this.run()}return o(e,[{key:"run",value:function(){var e=this;(0,d.default)("RUN"),this.parser.parserResult.paragraphs.forEach(function(t){if(0===t.possibleKW.length)return void(0,d.default)(t.possibleKW);t.possibleKW.forEach(function(n){var r=(0,y.getCampaignById)(n.campaignId,e.kxObject);if((0,h.isXtrafficCampaign)(r)){var i=(0,g.nodesBySelector)(t.selector)[0];e.parser.traverseDomTree(i,function(t){if((0,g.isTextNode)(t)){for(var o=[],a=["-","–","~"],s=[" ",".",",",";",":","!","?",'"'],c=0;c<s.length;c++)!function(e){var r=(0,g.nodeValue)(t);o=o.concat((0,f.default)(n.name+s[e],r)).filter(function(e){var t=r[e.index-1];return a.every(function(e){return t!==e})})}(c);if((0,d.default)("before result empty",o),0!==o.length&&((0,d.default)("before parent check"),(0,g.parentNode)(t)===i)){if(e.maxKeywordsInspector.hitLimit("keyword"))return void(0,d.default)("maxKeywordsInspector");var u=e.kxObject.config.styles||{},l=function(e,t){return e=e||[],t.forEach(function(t){e.push(t)}),e}(u.rlink||[],[{selector:".kx-rlink-container",declarations:{position:"relative",display:"inline","font-size":"inherit !important"}},{selector:".kx-rlink-container .kx-ad-link, .kx-rlink-container .kx-logo-container",declarations:{position:"relative",display:"inline-block"}},{selector:".kx-rlink-container .kx-ad-logo",declarations:{position:"absolute",transition:"all .5s","max-width":"none !important","max-height":"none","min-width":"0","min-height":"0",margin:"0",padding:"0",border:"0"}}]);Kx._css.addRules(l),(0,y.setKeywordLink)({node:t,keywordResult:o,campaign:r,publisherId:e.kxObject.id,sessionId:Kx._sessionId,referrer:document.location.href},e)}}})}})})}}]),e}());t.default=x},function(e,t){"use strict";function n(e){if(void 0===e||null===e)throw new Error("Passed argument is undefined")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){n(this,e),this.limit=t,this.store={}}return r(e,[{key:"addKey",value:function(e){this.store[e]=this.store[e]?this.store[e]+1:1}},{key:"hitLimit",value:function(e){return this.store[e]>=this.limit}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){var n=new RegExp((0,o.default)(e),"g"),r=[],i=void 0;do{(i=n.exec(t))&&r.push({keyword:i[0],index:i.index})}while(i);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(10),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t){"use strict";function n(e){return"xtraffic"===e.type.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),t.isXtrafficCampaign=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=[];return t.forEach(function(t){t.keywords&&1===t.keywords.length&&"matchAny"===t.keywords[0].name?n.push({campaignId:t.id,name:"matchAny"}):t.keywords.forEach(function(r){(0,s.default)(r.name,(0,o.textContent)(e)).forEach(function(){var e=(0,u.default)(r,{campaignId:t.id});n.push(e)})})}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(2),a=n(21),s=r(a),c=n(24),u=r(c)},function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments);for(t=t.reverse(),e=t.pop(),(0,o.throwIfNoRealObject)(e);t.length>0;){var n=t[t.length-1];(0,o.throwIfNoRealObject)(n);for(var a in n)(0,i.isRealObject)(n[a])&&(0,i.isRealObject)(e[a])?e[a]=r(e[a],n[a]):e[a]=n[a];t.pop()}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(6),o=n(25)},function(e,t,n){"use strict";function r(e){if((0,a.isUndefined)(e)||(0,a.isNull)(e))throw new TypeError("Passed argument is undefined or null")}function i(e,t){if((0,a.isString)(e)&&e.length<t)throw new Error("Passed string is too short")}function o(e){if(!(0,a.isRealObject)(e))throw new TypeError("[object Object] expected")}Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfUndefinedOrNull=r,t.throwIfStringTooShort=i,t.throwIfNoRealObject=o;var a=n(6)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){return n(this,e),this.config=t,this}return r(e,[{key:"send",value:function(e){var t=this,n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],r=function(){for(var e=!1,t=0;t<n.length;t++){try{e=n[t]()}catch(e){continue}break}return e}();r.open(this.config.verb,this.config.url,1),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-type","application/json"),r.onreadystatechange=function(){r.readyState>3&&(r.status>=200&&r.status<400?t.config.successCb(r.responseText):t.config.errorCb(r.responseText))},r.send(e)}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){var t=void 0;try{t=JSON.stringify(e)}catch(e){t=null}return t}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;this.window=e,this.handshakeIntervalTime=t,this.establishedConnections=[]}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=n(29),s=function(){};i.prototype.pub=function(e,t,n,i){var o=void 0;o=void 0===i?e:e+"|"+r(i),t.postMessage(o,n)},i.prototype.sub=function(e,t,n){(0,o.bindEvent)(this.window,"message",function(r){var i=void 0;if(r.origin===n){var o=r.data.split("|"),a=o[0];e===a&&(2===o.length&&(i=JSON.parse(o[1])),t(i))}})},i.prototype.shakeHands=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,i=(0,a.uuid)(),o=this.window.setInterval(function(){n.publishHandshake(e,t,i)},this.handshakeIntervalTime);this.listenToHandshakeReply(t,i,function(){n.window.clearInterval(o),n.establishedConnections.push({targetWindow:e,targetOrigin:t}),r()})},i.prototype.publishHandshake=function(e,t,n){this.pub("handshake",e,t,{handshakeId:n})},i.prototype.listenToHandshakeReply=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;this.sub("handshake",function(e){e.handshakeId===t&&n()},e)},i.prototype.replyToHandshake=function(e,t,n){var r=this;this.sub("handshake",function(e){r.publishHandshake(t,n,e.handshakeId)},e)},t.default=i},function(e,t){"use strict";function n(e,t,n){window.addEventListener?e.addEventListener(t,n,!1):window.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function r(e,t,n){window.removeEventListener?e.removeEventListener(t,n,!1):window.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function i(e){var t=void 0;try{t=new Event(e)}catch(n){t=document.createEvent("Event"),t.initEvent(e,!0,!0)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.bindEvent=n,t.unbindEvent=r,t.createEvent=i},function(e,t){"use strict";function n(){var e=function(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t};return e()+e(1)+e(1)+e()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,t.uuid=n},function(e,t,n){"use strict";function r(e){var t=e||"";return(0,o.default)(t.split(" ")).length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(7),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t){"use strict";/*!
	 * contentloaded.js
	 *
	 * Author: Diego Perini (diego.perini at gmail.com)
	 * Summary: cross-browser wrapper for DOMContentLoaded
	 * Updated: 20101020
	 * License: MIT
	 * Version: 1.2
	 *
	 * URL:
	 * http://javascript.nwbox.com/ContentLoaded/
	 * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE
	 *
	 */
function n(e,t){var n=!1,r=!0,i=e.document,o=i.documentElement,a=i.addEventListener,s=a?"addEventListener":"attachEvent",c=a?"removeEventListener":"detachEvent",u=a?"":"on",l=function r(o){"readystatechange"==o.type&&"complete"!=i.readyState||(("load"==o.type?e:i)[c](u+o.type,r,!1),!n&&(n=!0)&&t.call(e,o.type||o))};if("complete"==i.readyState)t.call(e,"lazy");else{if(!a&&o.doScroll){try{r=!e.frameElement}catch(e){}r&&function e(){try{o.doScroll("left")}catch(t){return void setTimeout(e,50)}l("poll")}()}i[s](u+"DOMContentLoaded",l,!1),i[s](u+"readystatechange",l,!1),e[s](u+"load",l,!1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t){return e<t?-1:e>t?1:0}function r(e,t){return e<t?1:e>t?-1:0}function i(e,t,n){return e.sort(function(e,r){return n(e[t],r[t])})}function o(e,t){return i(e,t,n)}function a(e,t){return i(e,t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.sortByKey=i,t.sortByKeyASC=o,t.sortByKeyDESC=a}]);var Kx=Kx||{};Kx.Strategy=function(e){return e}(Kx.Strategy||{});var Kx=Kx||{};Kx.Strategy.DefaultRLink=function(e){function t(e){return void 0!==e.impressionTrackingURL&&""!=e.impressionTrackingURL}var n=Kx.Helper.DOM,r=Kx.Helper.Util,i=Kx.Markup,o=Kx.Helper.Strategy,a=Kx.Helper.Device;e=function(e,t){if(void 0===e)throw new TypeError("kxObject expected");if(void 0===t)throw new TypeError("parser expected");this.type="rLink",this.kxObject=e,this.parser=t;var n=e.config.displayRules.rlink;Kx.log("DefaultRLink:Constructor rLinkRules",n),n&&(this.maxKeywordsInspector=new Kx.RuleInspector(n.max),this.maxEqualKeywordsInspector=new Kx.RuleInspector(2),this.maxEqualLogosInspector=new Kx.RuleInspector(n.maxLogos),this.maxLogosPerKeywordsInspector=new Kx.RuleInspector(n.maxLogosPerKw)),Kx.log("DefaultRLink:constructor"),this.run()};var s;return e.prototype.run=function(){Kx.log("DefaultRLink:run","parser",this.parser),this.parser.parserResult.paragraphs.forEach(function(e){if(0===e.possibleKW.length)return void Kx.log("DefaultRLink:run","0 possible keywords");e.possibleKW.forEach(function(t){var i=o.getCampaignById(t.campaignId,this.kxObject);if(!(i&&i.formats[0].toLowerCase()!==this.type.toLowerCase()||"xtraffic"===i.type.toLowerCase())){var a=n.nodesBySelector(e.selector)[0];this.parser.traverseDomTree(a,function(e){if(n.isTextNode(e)){for(var c=[],u=[" ",".",",",";",":","!","?",'"'],l=0;l<u.length;l++){var d=n.nodeValue(e);c=c.concat(r.findStringInText(t.name+u[l],d).filter(function(e){var t=d[e.index-1]||"",n=t.charCodeAt()||0;return!(n>=65&&n<=90)&&(!(n>=97&&n<=122)&&(45!=n&&126!=n&&8211!=n&&223!=n))}))}if(0!==c.length&&n.parentNode(e)===a){if(r.isSameUrl(document.location.href,i.targetURL))return void Kx.log("TargetURL is the same as the current URL.");if(Kx.log("DefaultRLink:run:maxKeywordsInspector",JSON.stringify(this.maxKeywordsInspector.store)),this.maxKeywordsInspector&&this.maxKeywordsInspector.hitLimit("keyword"))return void Kx.log("maxKeywordsInspector:hitLimit",this.maxKeywordsInspector);if(Kx.log("DefaultRLink:run:maxEqualKeywordsInspector",JSON.stringify(this.maxKeywordsInspector.store)),this.maxEqualKeywordsInspector&&this.maxEqualKeywordsInspector.hitLimit(t.name))return void Kx.log("maxEqualKeywordsInspector",this.maxEqualKeywordsInspector);var p=(this.getKeywordFromCampaignByName(i,t.name),i.iconURL),f=i.closeIconURL?i.closeIconURL:i.iconURL;if(this.maxEqualLogosInspector&&this.maxEqualLogosInspector.hitLimit(p))return void Kx.log("maxEqualLogosInspector",this.maxEqualLogosInspector);if(this.maxLogosPerKeywordsInspector&&this.maxLogosPerKeywordsInspector.hitLimit(p+"_"+t.name))return void Kx.log("maxLogosPerKeywordsInspector",this.maxLogosPerKeywordsInspector);Kx.log("DefaultRLink:run","currentParentNode before setKeywordLink",a);var h=this.setKeywordLink(e,c,p,f,i,o.getLogoSize(i,this.kxObject.config));Kx.log("DefaultRLink:run","after setKeywordLink",h),h&&(s=h)}}},this)}},this)},this);var e=Kx._css,t=(this.kxObject.config.iconSize,this.kxObject.config.styles||{}),i=function(e,t){return e=e||[],t.forEach(function(t){e.push(t)}),e}(t.rlink||[],[{selector:".kx-rlink-container",declarations:{position:"relative",display:"inline","font-size":"inherit !important"}},{selector:".kx-rlink-container .kx-ad-link, .kx-rlink-container .kx-logo-container",declarations:{position:"relative",display:"inline-block",float:"none !important"}},{selector:".kx-rlink-container .kx-logo-container.display-icon-on-hover",declarations:{display:"none"}},{selector:".kx-rlink-container:hover .kx-logo-container.display-icon-on-hover",declarations:{display:"inherit"}},{selector:".kx-rlink-container .kx-ad-logo",declarations:{position:"absolute",transition:"all .5s","max-width":"none !important","max-height":"none","min-width":"0","min-height":"0",margin:"0",padding:"0",border:"0"}},{selector:".kx-rlink-container .frame-container .close-handler",declarations:{opacity:".5"}},{selector:".kx-rlink-container .frame-container .close-handler:hover",declarations:{opacity:"1"}}]);e.addRules(i)},e.prototype.getKeywordFromCampaignByName=function(e,t){var n;return e.keywords.forEach(function(e){e.name===t&&(n=e)}),n},e.prototype.setKeywordLink=function(e,o,a,c,u,l){var o=o[0],d=o.keyword.slice(0,-1),p=o.index,f=n.nodeValue(e),h=this.getRLinkHtml({keyword:d,campaignIcon:a,campaign:u,iconHeight:l});if("link-container"===u.type){h.querySelector("a").removeAttribute("target"),h.querySelector("a").removeAttribute("onclick"),h.querySelector("a").href="#";var g;g=r.replacePlaceholder(u.targetURL,{keyword:d,ref:document.location.href}),g=g+"&kxorigin="+document.location.origin;var y=function(e,t){var n=document.createElement("div");return n.setAttribute("class","frame-container"),n.setAttribute("style","height:0px;position:relative"),n.innerHTML='<span class="close-handler" style="position:absolute;right:-13px;top:-13px;"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADKklEQVRYR61X0VXcMBDctQoI6eBSAcIuIEcFgQpyVBCoIKGCQAWQCnKpgKMA6UQFUAIUIClvjOQndPJZ5qGv42F7R7Ozu7NMM07XdSfe+2/MvCCiAyKS4XVDRM/e+yfn3NoY86/2szz1oJRy0TTNTyI6YWYEnTze+2ciWjvnLowx+D169gJo2/YXEf2oDZxHCUCutNaXYwiKAKSUB0KIu4Ti/n3v/X242cYYA9qHI6WUTdMsA1Nfs4DGWntcYmMHQPjQXXprBHbOrYwxT5P8A/Vr2m6ZeQACNpxzAPEG+BsAuHnTNI9J8BciWiml1jWB82cgWiK6JaJPgUGA+JIyMQAo0P5irV3miOcCAaNCiE0EQURGKXUUvzMAgOCYGWrH+ZDgMUgOwnt/qbWGwKkHEHK2Tag/zWkHQ1MllQRc5HoJ6fibp6IH0HUd8vQ9Kl1rDTUPJ/z/cEzJ+bNoViXBtW27SYT5Rym1igDQLHqhWGshkkHtQZh48RD52wciuUgxhWBaCPEYWdBaf+aMmvv89iFFqI69IKaCR5YyFk4BIKX/Qmt9VVL6PiZqg+O7bdueM/PvwMI1p4istUf7yq4EQggBwNBPVeVIKZehy/adFQBMyC8ppWqG05AOdLdQOVXBI7Nd1/nw2yAF8Y8qAFETQggINQoXLRbNpuqkMd8FINVNvElNiRYYoNkpyAR30jTNVU2JZr2iZ917/zBLhCW1z+kTIX1vRVhbhvtKbQ6InTKsaUQ1dV4LIq06IjqtacVon72JmBrPGYjSQBtaMfqGUupgZxgR0UYpdZyKBuMUf9d4g+ArliUTMzqMwktDXYOa97qgsUaQpjp0TYzs56IhGfNvVV2m8FDuM3cMSTKphrb8USAKwR+01nGheXVE8eSpCL3+7L3pCJvUTWpyrbU99TFm0ZZnJhLPbqy1Z3NsuRDihohSZ1UcWKOLSWJAUpIwcLByme12iyUlZQ8dDq5pVVhoHpxzcNg7a9rkasbM54mlnqvDF+89VrPeAZdO1fwPpgNLRj9+Kw4WmrW19nzKSU8CSIOFWsaK3q/n0chgqmE9R69iZjSy6k3qP3cfmQe094iIAAAAAElFTkSuQmCC" alt="Schließen" width="24" title="Schließen"></span><iframe id="'+t+'" src="'+e+"&id="+t+'" style="width:100%; border: none;">',n},x=function(e){e.style.height=e.getAttribute("data-frame-height")+"px",e.style.display="block";var t=n.parentNode(e).querySelector("img.kx-ad-logo");null!==t&&t.setAttribute("src",c)},m=function(e){e.style.height="0px",e.style.display="none";var t=n.parentNode(e).querySelector("img.kx-ad-logo");null!==t&&t.setAttribute("src",a)},v=function(e){return!e||"0px"===e.style.height},k=function(e){v(e)?x(e):m(e)},w=function(e){return e&&e.classList.contains("kx-rlink-container")?e:w(n.parentNode(e))},K=function(e,t){var n=document.querySelector("#"+e);if(Kx.log("propagateTrackEvent",e,n),n){var i=new Kx.PostMessage(window);i.shakeHands(n.contentWindow,r.urlParser(n.src).origin,function(){Kx.log("propagateTrackEvent:HandshakeCB",n),i.pub("track-"+e,n.contentWindow,r.urlParser(n.src).origin,t)})}},b=new Date,_="xxx"+u.id+b.getTime(),S=function(e,t){e.preventDefault();var n=w(e.target),r=n&&n.querySelector(".frame-container");if(v(r)&&(Kx._tracker.track({event_type:"click.rlink",campaign_id:u.id+"",ad_format:"link-container",keywords:[d]}),K(_,{session_id:Kx._sessionId,event_type:"placement.iwidget",url:document.location.href,keywords:[d]})),r)t?x(r):k(r);else{var i=y(g,_);i.style.display="none",n.appendChild(i);(new Kx.PostMessage).sub("size.set",function(e){var t=n.querySelector("iframe#"+e.id);t&&(t.height=e.height,t.style.display="initial",t.parentNode.setAttribute("data-frame-height",e.height),x(i))},[document.location.protocol,"//c.ktxtr.com"].join("")),K(_,{session_id:Kx._sessionId,event_type:"placement.iwidget",url:document.location.href,keywords:[d]})}};this.kxObject.config.displayRules.rlink&&this.kxObject.config.displayRules.rlink.openContainerOnHover&&h.addEventListener("mouseenter",function(e){S(e,!0),Kx.log("attachOrToggleContainer","MOUSE ENTER")}),h.addEventListener("click",S)}var E=[];if(0===o.index){E.push(h);var I=f.substring(p+d.length,f.length);E.push(document.createTextNode(I))}else{var T=f.substring(0,p);if(E.push(document.createTextNode(T)),E.push(h),f.length!==p+d.length){var C=f.substring(p+d.length,f.length);E.push(document.createTextNode(C))}}e.nodeValue="";var R=e.nextSibling,L=document.createElement("span");L.style.opacity=0,L.style.height=0,L.style.width=0,L.style.display="inline-block",this.kxObject.config.displayRules.rlink;var O=0;this.kxObject.config.displayRules.rlink&&(O=this.kxObject.config.displayRules.rlink.minVerticalSpacing);var N=!0;if(R){if(s){R.parentNode.insertBefore(L,R);var P=L.getBoundingClientRect();R.parentNode.removeChild(L),s.getBoundingClientRect().top+O>P.top&&(N=!1)}}else if(s){e.parentNode.appendChild(L);var P=L.getBoundingClientRect();e.parentNode.removeChild(L),s.getBoundingClientRect().top+O>P.top&&(N=!1)}if(N||E.forEach(function(e,t){e===h&&(E[t]=document.createTextNode(e.textContent))}),R?E.forEach(function(e){R.parentNode.insertBefore(e,R)}):E.forEach(function(t){e.parentNode.appendChild(t)}),N){if(this.maxKeywordsInspector&&this.maxKeywordsInspector.addKey("keyword"),Kx.log("DefaultRLink:setKeywordLink","maxKeywordsInspector",this.maxKeywordsInspector.limit,JSON.stringify(this.maxKeywordsInspector.store)),this.maxEqualKeywordsInspector&&this.maxEqualKeywordsInspector.addKey(d),Kx.log("DefaultRLink:setKeywordLink","maxEqualKeywordsInspector",this.maxEqualKeywordsInspector.limit,JSON.stringify(this.maxEqualKeywordsInspector.store)),this.maxEqualLogosInspector&&this.maxEqualLogosInspector.addKey(a),Kx.log("DefaultRLink:setKeywordLink","maxEqualLogosInspector",this.maxEqualLogosInspector.limit,JSON.stringify(this.maxEqualLogosInspector.store)),this.maxLogosPerKeywordsInspector&&this.maxLogosPerKeywordsInspector.addKey(a+"_"+d),Kx.log("DefaultRLink:setKeywordLink","maxLogosPerKeywordsInspector",this.maxLogosPerKeywordsInspector.limit,JSON.stringify(this.maxLogosPerKeywordsInspector.store)),Kx._tracker.track({event_type:"placement.rlink",campaign_id:u.id+"",ad_format:"rlink",keywords:[d]}),Kx._is_pi_with_placement_tracked||(Kx._tracker.track({event_type:"pi-with-placement"}),Kx._is_pi_with_placement_tracked=!0),t(u)){var M=i.getViewPixel(u.impressionTrackingURL);document.body.appendChild(M)}return h}},e.prototype.getRLinkHtml=function(e){function t(e){return setTimeout(function(){e.className="kx-ad-logo"},1e3)}var n="x"+r.uniqueID(),o=document.createElement("span");o.className="kx-rlink-container kka-active "+n;var s=document.createElement("a"),c=r.replacePlaceholder(i.appendUTMParameter(e.campaign.targetURL,e.campaign.utm,e.keyword),{pid:this.kxObject.id,keyword:e.keyword,ref:document.location.href}),u=c;e.campaign.clickTrackingURL&&""!=e.campaign.clickTrackingURL&&(u=r.replacePlaceholder(e.campaign.clickTrackingURL,{pid:this.kxObject.id,cid:e.campaign.id,format:"rlink",keyword:e.keyword,sessionid:Kx._sessionId,ref:document.location.href,target:c})),"59"===this.kxObject.id||"70"===this.kxObject.id?s.href=u:(s.setAttribute("onclick",["this.href='",u,"'"].join("")),s.href=c),s.title=e.campaign.tooltip||"",s.target="_blank",s.rel="nofollow",Kx.AppConfig.seoRelevancePublisher.includes(this.kxObject.id)&&(Kx.Helper.Util.isSameHost(document.location.href,e.campaign.targetURL)||Kx.Helper.Util.isSame2ndLevelDomain(document.location.href,e.campaign.targetURL))&&(s.removeAttribute("rel"),s.target="_self"),s.className="kx-ad-link",s.appendChild(document.createTextNode(e.keyword)),o.appendChild(s),Kx.log("DefaultRLink:getRLinkHtml","Keyword",e.keyword);var l,d,p=!1,f=document.createElement("img");if(f.className="kx-ad-logo kx-init",f.style.opacity=.01,e.campaign.display_icon_on_hover&&(f.className="kx-ad-logo",f.style.opacity=1),f.alt=e.campaign.tooltip,f.onload=function(r){if(!p){p=!0;var i=r.target;t(i);if(0===i.naturalWidth)var o=i.width/i.height;else var o=i.naturalWidth/i.naturalHeight;var s=e.iconHeight*o;Kx.log("RLINK: iconHeight, imageRation",e.iconHeight,o);var c=[{selector:"."+n+".kx-rlink-container",declarations:{float:"none !important"}},{selector:"."+n+".kx-rlink-container .kx-logo-container",declarations:{height:"10px",width:s+2+"px"}},{selector:"."+n+".kx-rlink-container .kx-ad-logo",declarations:{height:e.iconHeight+"px !important",bottom:"-2px",left:"2px",width:s+"px"}},{selector:"."+n+".kx-rlink-container .kx-ad-logo.kx-init",declarations:{height:2.35*e.iconHeight+"px !important",width:2.35*s+"px !important"}}];a.isMobileDevice()&&a.isTouchDevice()||(c.push({selector:"."+n+".kx-rlink-container .kx-ad-link:hover .kx-logo-container:not(.display-icon-on-hover) .kx-ad-logo",declarations:{height:2.35*e.iconHeight+"px !important",width:2.35*s+"px !important"}}),c.push({selector:"."+n+".kx-rlink-container .kx-ad-link:hover .kx-logo-container.display-icon-on-hover .kx-ad-logo",declarations:{opacity:"1 !important"}})),Kx._css.addRules(c),l||(d=!0),!l&&d?(d=!1,l=f.complete||4===f.readyState,setTimeout(function(){var e;try{e=new Event("load")}catch(t){e=document.createEvent("Event"),e.initEvent("load",!0,!0)}p=!1,i.dispatchEvent(e)},500)):i.style.opacity=1}},e.campaignIcon&&e.campaignIcon.length>0){f.src=e.campaignIcon,l=f.complete||4===f.readyState;var h=document.createElement("span");h.className="kx-logo-container",e.campaign.display_icon_on_hover&&(h.className=h.className+" display-icon-on-hover"),h.appendChild(f),s.appendChild(h)}if(f.complete||4===f.readyState){var g;try{g=new Event("load")}catch(e){g=document.createEvent("Event"),g.initEvent("load",!0,!0)}f.dispatchEvent(g)}return o},e}(Kx.Strategy.DefaultRLink),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){e.exports=n(33)},27:function(e,t,n){"use strict";function r(e){var t=void 0;try{t=JSON.stringify(e)}catch(e){t=null}return t}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;this.window=e,this.handshakeIntervalTime=t,this.establishedConnections=[]}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=n(29),s=function(){};i.prototype.pub=function(e,t,n,i){var o=void 0;o=void 0===i?e:e+"|"+r(i),t.postMessage(o,n)},i.prototype.sub=function(e,t,n){(0,o.bindEvent)(this.window,"message",function(r){var i=void 0;if(r.origin===n){var o=r.data.split("|"),a=o[0];e===a&&(2===o.length&&(i=JSON.parse(o[1])),t(i))}})},i.prototype.shakeHands=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,i=(0,a.uuid)(),o=this.window.setInterval(function(){n.publishHandshake(e,t,i)},this.handshakeIntervalTime);this.listenToHandshakeReply(t,i,function(){n.window.clearInterval(o),n.establishedConnections.push({targetWindow:e,targetOrigin:t}),r()})},i.prototype.publishHandshake=function(e,t,n){this.pub("handshake",e,t,{handshakeId:n})},i.prototype.listenToHandshakeReply=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;this.sub("handshake",function(e){e.handshakeId===t&&n()},e)},i.prototype.replyToHandshake=function(e,t,n){var r=this;this.sub("handshake",function(e){r.publishHandshake(t,n,e.handshakeId)},e)},t.default=i},28:function(e,t){"use strict";function n(e,t,n){window.addEventListener?e.addEventListener(t,n,!1):window.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function r(e,t,n){window.removeEventListener?e.removeEventListener(t,n,!1):window.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function i(e){var t=void 0;try{t=new Event(e)}catch(n){t=document.createEvent("Event"),t.initEvent(e,!0,!0)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.bindEvent=n,t.unbindEvent=r,t.createEvent=i},29:function(e,t){"use strict";function n(){var e=function(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t};return e()+e(1)+e(1)+e()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,t.uuid=n},33:function(e,t,n){"use strict";window.Kx=window.Kx||{},window.Kx.Strategy=window.Kx.Strategy||{},window.Kx.Strategy.DefaultIWidget=window.Kx.Strategy.DefaultIWidget||{},window.Kx.Strategy.DefaultIWidget=function(e){var t=Kx.Helper.DOM,r=Kx.Helper.Util,i=n(27).default,o=Kx.Markup,a=Kx.Helper.Strategy,s=new i,c=function(e,t){var n=document.querySelector("#"+e);if(Kx.log("propagateTrackEvent",e,n),n){var o=new i(window);o.shakeHands(n.contentWindow,r.urlParser(n.src).origin,function(){Kx.log("propagateTrackEvent:HandshakeCB",n),o.pub("track-"+e,n.contentWindow,r.urlParser(n.src).origin,t)})}};return e=function(e,t){if(void 0===e)throw new TypeError("kxObject expected");if(void 0===t)throw new TypeError("parser expected");this.kxObject=e,this.parser=t,this.type="iWidget",this.maxPlacementsInspector=new Kx.RuleInspector(1),this.run()},e.prototype.run=function(){function e(e){return Math.floor(Math.random()*e)}var n=[],i=[];if(t.nodesBySelector(this.kxObject.config.contentSelector).forEach(function(e){i.push(t.textContent(e))}),this.parser.parserResult.paragraphs.forEach(function(e){var r=t.nodesBySelector(e.selector)[0];n.push(r)}),Kx.log("default_iwidget:possibleNodes",n),!(n<=0)){this.parser.parserResult.paragraphs.forEach(function(e){0!==e.possibleKW.length&&e.possibleKW.forEach(function(e){var t=a.getCampaignById(e.campaignId,this.kxObject);t&&(t.formats[0].toLowerCase(),this.type.toLowerCase())},this)},this);var o,s=this.getCampaignsByFormat("iWidget"),c=r.sortByKeyDESC(s,"weight"),u=c.filter(function(e){return function(t){return t.weight===e}}(c[0].weight));o=1===u.length?u[0]:function(e,t){return e[t(e.length)]}(u,e),Kx.log("iwidget:highestWeightCampaigns",u,"used campaign",o);var l=this.kxObject.config.displayRules.iwidget||{};l.skipParagraphs||(l.skipParagraphs=1);var d;l.skipParagraphs<0?(d=n.length+l.skipParagraphs)<=0&&(d=1):(d=l.skipParagraphs-1)>=n.length&&(d=n.length-1),void 0!==n[d]&&(this.maxPlacementsInspector.hitLimit("iwidget")||(this.setIWidget(n[d],o),this.maxPlacementsInspector.addKey("iwidget")))}},e.prototype.getCampaignsByFormat=function(e){var t=[];return this.kxObject.campaigns.forEach(function(n){n.formats[0]===e.toLowerCase()&&t.push(n)}),t},e.prototype.setIWidget=function(e,t){var n=this.kxObject.config.displayRules.iwidget||{},i=document.createElement("iframe");i.className="kx-iwidget-iframe";var a="yyy"+t.id;i.id=a;for(var u=0,l=[],d=0;d<t.keywords.length;d++)u<(n.maxItems||2)&&(l.push(t.keywords[d].name),u+=1);i.style.opacity=.01,i.height=0,i.width="100%";var p=r.replacePlaceholder(t.targetURL,{pid:this.kxObject.id,cid:t.id,sessionId:Kx._sessionId,keyword:l.join(","),ref:document.location.href,jwt:t.jwt}),f=r.urlParser(t.targetURL).origin;if(s.sub("size.set",function(n){n.id===a&&(0===n.height?(Kx.log("iWidget empty"),e.parentNode.removeChild(i)):(i.height=n.height,i.style.display="block",i.style.opacity=1,Kx._is_initial_widget_placement_tracked||(Kx._tracker.track({event_type:"placement.iwidget",campaign_id:t.id+"",ad_format:"iwidget",keywords:l}),c(a,{session_id:Kx._sessionId,event_type:"placement.iwidget",url:document.location.href,keywords:l}),Kx._is_initial_widget_placement_tracked=!0),Kx._is_pi_with_placement_tracked||(Kx._tracker.track({event_type:"pi-with-placement"}),Kx._is_pi_with_placement_tracked=!0)))},f),s.sub("iframe.click",function(){Kx._tracker.track({event_type:"click.iwidget",campaign_id:t.id+"",ad_format:"iwidget",keywords:l})},f),i.height=48*u,e.nextSibling?e.parentNode.insertBefore(i,e.nextSibling):e.parentNode.appendChild(i),i.src=p+"&id="+a+"&kxorigin="+document.location.origin,function(e){return void 0!==e.impressionTrackingURL&&""!=e.impressionTrackingURL}(t)){var h=o.getViewPixel(t.impressionTrackingURL);document.body.appendChild(h)}var g=Kx._css,y=this.kxObject.config.styles||{},x=function(e,t){return e=e||[],t.forEach(function(t){e.push(t)}),e}(y.iwidget||[],[{selector:".kx-iwidget-iframe",declarations:{border:"0","margin-bottom":"19px"}}]);g.addRules(x)},e}(window.Kx.Strategy.DefaultIWidget)}});var Kx=Kx||{};Kx.AppConfig={},Kx.AppConfig.trackingUrl="//t.ktxtr.com/track.json",Kx.AppConfig.scriptUrl="//c.ktxtr.com/api/publishers/",Kx.AppConfig.seoRelevancePublisher="db4fa39e-c0bd-49eb-8c59-7f5d9aa43fdc,629c0d40-bf54-4de6-939f-a46efb5e2a5f,c5483b41-f358-41f4-8927-e059247c23ff,faf36460-1cfd-4e7f-b756-9f66a888154d,b54cac64-9a92-4ecf-a141-7ce03583e3e3,03201442-8a0b-40a5-994a-3554dd97fa8c,0710c026-820b-4741-a6e3-86c6e4b97269";var Kx=Kx||{};Kx.version="production.20200909080929.66cb0e8.HEAD";var Kx=Kx||{};Kx.Tracker=function(e){var t=Kx.Helper.Util,e=function(e){this.baseData=e||{},this.payload=[],this.payloadDump=[];var t=this,n=function(){t.payloadDump=[]},r=function(){t.payloadDump.forEach(function(e){this.payload.push(e)},t)};this.request=new Kx.Request({url:Kx.AppConfig.trackingUrl,verb:"POST",successCb:n,errorCb:r})};return e.prototype.getBaseData=function(){var e={client_timestamp:this.getCurrentTimestamp()};return t.mergeObjects(e,this.baseData)},e.prototype.getCurrentTimestamp=function(){return(new Date).getTime()},e.prototype.mergeWithBaseData=function(e){return t.mergeObjects(this.getBaseData(),e)},e.prototype.track=function(e){var t=this.mergeWithBaseData(e);this.payload.push(this.convertEvent(t)),this.watch()},e.prototype.convertEvent=function(e){var t=["publisher_id","campaign_id","session_id"];for(var n in e)-1!==t.indexOf(n)&&(e[n]=String(e[n]));return e},e.prototype.watch=function(){this.send()},e.prototype.send=function(){this.payloadDump=this.payload,this.payload=[];var e={events:this.payloadDump};this.request.send(JSON.stringify(e))},e}(Kx.Tracker);var Kx=Kx||{};Kx.UserToken=function(e){var t=Kx.Helper.Util,e=function(e){if(void 0===e)throw new TypeError("config expected");!0===e.config.sendUserToken&&(this.setCookie=!0)};return e.prototype.getOrSetToken=function(){return this.userToken=document.cookie.replace(/(?:(?:^|.*;\s*)ktxtrToken\s*\=\s*([^;]*).*$)|^.*$/,"$1"),""!==this.userToken?this.userToken:this.setCookie?this.setToken():null},e.prototype.setToken=function(){this.userToken=t.uniqueID(),Kx.log(this.userToken);var e=new Date;return e.setTime(+e+31536e6),document.cookie="ktxtrUID="+this.userToken+"; expires="+e.toGMTString()+"; path=/",this.userToken},e}(Kx.UserToken);var Kx=Kx||{};Kx.ContentParser=function(e){var t=Kx.Helper.DOM,n=Kx.Helper.Util,r=Kx.Helper.NodeFilter,i=Kx.Helper.ContentParser,e=function(e){if(void 0===e)throw new TypeError("config expected");if(void 0===e.config.contentSelector)throw new TypeError("contentSelector expected");var t={paragraphWordThreshold:2,parentAwayFromTextThreshold:3,contentNodes:["p","section","article"]};this.config=n.mergeObjects(t,e||{}),Kx.log(this.config),void 0!==e.config.contentNodes&&(this.config.contentNodes=e.config.contentNodes),Kx.log(this.config),this.parserResult={selector:e.config.contentSelector,paragraphs:[]}};return e.prototype.getParserResult=function(){return this.parserResult},e.prototype.parse=function(){Kx.log(this.config.config.contentSelector);var e=t.nodesBySelector(this.config.config.contentSelector);if(this.config.config.excludeSelector&&this.config.config.excludeSelector.length>0){var n=t.nodesBySelector(this.config.config.excludeSelector);e=e.filter(function(e){return-1===n.indexOf(e)})}return e.forEach(function(e){var t=e;if(void 0===t)return void Kx.log("NULL");this.traverseDomTree(t,this.processNodeIfValid,this)},this),Kx.log("cppr: ",this.parserResult),this.parserResult},e.prototype.traverseDomTree=function(e,n,r){for(r=r||this,n.call(r,e),e=t.firstChild(e);e;)this.traverseDomTree(e,n,r),e=t.nextSibling(e)},e.prototype.processNodeIfValid=function(e){this.isNodeValid(e)&&this.processNode(e)},e.prototype.isNodeValid=function(e){if(!r.containsVisibleChars(e))return!1;var t=this.getValidParentNode(e);return void 0!==t&&r.hasEnoughWords(t,this.config.paragraphWordThreshold)&&!r.isMarked(t)},e.prototype.getValidParentNode=function(e){for(var n=0;n<this.config.parentAwayFromTextThreshold;)if(n++,e=t.parentNode(e),r.isContentNode(e,this.config.contentNodes))return e},e.prototype.processNode=function(e){var r=this.getValidParentNode(e),o=n.uniqueID();this.markNodeWithValue(r,o);var a=i.findPossibleKeywords(r,this.config.campaigns);this.parserResult.paragraphs.push({id:o,selector:"[data-kx='"+o+"']",type:t.nodeName(r),wordCount:n.wordCount(t.textContent(r)),possibleKW:a})},e.prototype.markNodeWithValue=function(e,n){t.addAttributeToNode(e,{name:"data-kx",value:n})},e}(Kx.ContentParser);var Kx=Kx||{};Kx.ContentManager=function(e){var e=(Kx.Helper.Util,function(e,t){if(void 0===e)throw new TypeError("kxObject expected");if(void 0===t)throw new TypeError("parser expected");this.kxObject=e,this.parser=t,this.usedStrategies=[],this.strategies=this.getStrategies(e)});return e.prototype.getStrategies=function(e){var t=[];if(!e.campaigns)return t;var n=[];return e.campaigns.forEach(function(e){if(n.indexOf(e.formats[0]+e.type)<0){Kx.log(e);var r={format:e.formats[0],type:e.type,strategy:this.getPublisherStrategy(e.formats[0].toLowerCase(),e.type.toLowerCase()),ruleset:this.getPublisherRuleset(e.formats[0].toLowerCase())};t.push(r),n.push(e.formats[0]+e.type)}},this),t},e.prototype.getPublisherStrategy=function(e,t){return Kx.log("getPublisherStrategy",e,t),"rlink"===e&&"xtraffic"===t?"Xtraffic":"rlink"===e&&"xtraffic"!==t?"DefaultRLink":"iwidget"===e?"DefaultIWidget":void 0},e.prototype.getPublisherRuleset=function(e){return Kx.log("getPublisherRuleset",e),this.kxObject.config.displayRules[e]},e.prototype.decideWhichStrategies=function(){this.strategies.forEach(function(e){if(Kx.log("ContentManager:decideWhichStrategies",e),this.strategyTypeNotUsed(e.format)&&this.isStrategyDefined(e.strategy)){this.run(e.strategy);this.usedStrategies.push(e.format)}},this)},e.prototype.isStrategyDefined=function(e){return void 0!==Kx.Strategy[e]},e.prototype.run=function(e){return new Kx.Strategy[e](this.kxObject,this.parser)},e.prototype.strategyTypeNotUsed=function(e,t){return Kx.log("ContentManager:strategyTypeNotUsed",JSON.stringify(this.usedStrategies),e,t),this.usedStrategies.indexOf(e)<0},e}(Kx.ContentManager);var Kx=Kx||{};Kx.CSS=function(e){return e=function(){this.styleSheet=void 0,this.hasStyleSheet()||this.createStyleSheet()},e.prototype.hasStyleSheet=function(){return void 0!==this.styleSheet},e.prototype.createStyleSheet=function(){var e=document.createElement("style");return e.type="text/css",e.rel="stylesheet",e.id="kx-style-sheet",document.head.appendChild(e),this.styleSheet=e.sheet,this.styleSheet},e.prototype.addRules=function(e){e.forEach(function(e){this.addRule(e)},this)},e.prototype.addRule=function(e){var t=e.selector+" { ",n=e.declarations;for(var r in e.declarations)n.hasOwnProperty(r)&&(t+=r+": "+n[r]+";");t+="}",this.styleSheet.insertRule(t,this.nextIndex)},e.prototype.nextIndex=function(){return this.styleSheet.cssRules.length},e}(Kx.CSS);var Kx=Kx||{};Kx.RuleInspector=function(e){return e=function(e){this.limit=e,this.store={}},e.prototype.addKey=function(e){this.store[e]=this.store[e]?this.store[e]+1:1},e.prototype.hitLimit=function(e){return Kx.log("RuleInspector:hitLimit:legacy",e,this.store[e],this.store[e]>=this.limit),this.store[e]>=this.limit},e}(Kx.RuleInspector);var Kx=Kx||{};Kx=function(e){var t=window.Kx.Helper.Util,n=window.ktxtrPublisherId||window.kka_publisher_id;return e._css=void 0,e._tracker=void 0,e.run=function(){this._css=new Kx.CSS,this._sessionId=t.uniqueID(),this._is_pi_with_placement_tracked=!1,this._is_initial_widget_placement_tracked=!1;var e={session_id:this._sessionId,publisher_id:n+"",url:window.location.href,source_url:document.referrer};this._tracker=new Kx.Tracker(e),this._tracker.track({event_type:"pi"}),new Kx.Request({url:Kx.AppConfig.scriptUrl+n+"?kxref="+encodeURIComponent(window.location.href),verb:"GET",successCb:function(t){if(void 0===t||null===t||0===t.length)return void Kx.log("Response was some kind of empty");t=JSON.parse(t);var n=function(){try{var n=new Kx.UserToken(t);Kx._userToken=n.getOrSetToken(),null!==Kx._userToken&&(Kx._tracker=new Kx.Tracker(Object.assign({},e,{user_token:Kx._userToken})),Kx._tracker.track({event_type:"userpi"}))}catch(e){Kx.log("CATCHED",e)}},r=function(){n();try{if(t.campaigns){var e=new Kx.ContentParser(t);e.parse();new Kx.ContentManager(t,e).decideWhichStrategies()}else Kx.log("NO CAMPAIGNS",t)}catch(e){Kx.log("CATCHED",e)}};t.waitForContent?Kx.Helper.Util.domReady(window,r):r()}.bind(this),errorCb:function(){}}).send()},e}(Kx),function(){function e(e){return null!=window.navigator.userAgent.match(e)}Kx.log("DEV-VERSION-14.07.2017-1"),e("MSIE 8")||e("MSIE 9")||(Kx.AppConfig.seoRelevancePublisher=Kx.AppConfig.seoRelevancePublisher.split(","),Kx.run())}();